<!-- <stbui-loading *ngIf="showLoading"></stbui-loading> -->
<mat-toolbar  class="mat-elevation-z4">  
	<button mat-icon-button (click)="sidenav.toggle();drawer.toggle();" *ngIf="matDrawerShow">
        <i class="material-icons app-toolbar-menu">menu </i>
    </button> 
    <button mat-icon-button (click)="sidenav.toggle();" *ngIf="!matDrawerShow">
        <i class="material-icons app-toolbar-menu">menu </i>
    </button>

    <span class="spacer"></span>

    <ng-container *ngIf="searchShow">
    <button  mat-icon-button (click)="searchOpen = !searchOpen" fxHide="true" [fxHide.gt-xs]="false">
        <i class="material-icons">search</i>
    </button>
    <cdk-search-bar [open]="searchOpen"></cdk-search-bar>
    </ng-container>
  
    <ng-container *ngIf="aiChatbotShow">
    <button  mat-icon-button (click)="aiChatbotOpen = !aiChatbotOpen" fxHide="true" [fxHide.gt-xs]="false">
        <i class="material-icons">find_replace</i>
    </button>
    <cdk-ai-chatbot-bar [token]="aiToken" [open]="aiChatbotOpen"></cdk-ai-chatbot-bar>
    </ng-container>
  
    <cdk-fullscreen></cdk-fullscreen>

    <cdk-toolbar-notification [notifications]="coreConfig?.notifications"></cdk-toolbar-notification>
    <cdk-toolbar-cart [basket]="coreConfig?.shoppingBasket"></cdk-toolbar-cart>

    <cdk-user-menu [currentUser]="coreConfig?.currentUser" [settingsRoute]="settingsRoute" [profileRoute]="profileRoute" [helpRoute]="helpRoute" [securityRoute]="securityRoute" [logoutRoute]="logoutRoute"></cdk-user-menu>
    
     <button *ngIf="sidebar" mat-icon-button (click)="sidebar.toggle();">
        <i class="material-icons app-toolbar-menu">menu </i>
    </button>
    
</mat-toolbar>